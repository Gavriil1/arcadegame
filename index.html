<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets\css\style.css">
	<title>Spartan Invader</title>
</head>
<body>
	<header>
		<h1>Spartan Invader</h1>
	</header>

	<main>
		<div>
			<canvas id="myCanvas"></canvas>
		</div>
		 <div>
			<button id="leftBtn" onclick="sendKey('a')" onmouseup="unSendKey('a')">Left</button>
			<button id="rightBtn" onclick="sendKey('d')" onmouseup="unSendKey('d')">Right</button>
			<button id="fireBtn" onclick="sendKey('s')" onmouseup="unSendKey('s')">Fire</button>
		</div> 
	<!-- 
		<div>
			<button id="leftBtn" onmousedown="sendKeyDelayed('a')" onmouseup="unSendKeyDelayed('a')">Left</button>
			<button id="rightBtn" onmousedown="sendKeyDelayed('d')" onmouseup="unSendKeyDelayed('d')">Right</button>
			<button id="fireBtn" onmousedown="sendKeyDelayed('s')" onmouseup="unSendKeyDelayed('s')">Fire</button>
		  </div> 
		  -->
		  

	</main>

	<footer class="footer">
		<p>&copy; 2023 Gabriel's JS Project</p>
	</footer>

	<script src="index.js"></script>
	<script>
	
	let delay = 100; // set delay time in milliseconds

let mouseDownTime;

function sendKey(key) {
  console.log("sendKey function received a key for key down");
  let event = new KeyboardEvent('keydown', { key });
  window.dispatchEvent(event);
}

function unSendKey(key) {
  console.log("unSend function received the key for key up");
  let event1 = new KeyboardEvent('keyup', { key });
  setTimeout(function(){window.dispatchEvent(event1);}, 100);
  
}

	</script>
</body>
</html>